$(document).ready(function(){$("#content").css("opacity","1"),$(".mobile-nav").click(function(){$(this).toggleClass("active"),$("nav").slideToggle()});var e=!1,t=function(){$(window).scrollTop()>300?$("#scrollTop").fadeIn():$("#scrollTop").fadeOut()};$(window).scroll(function(){e=!0}),setInterval(function(){e&&(e=!1,t())},250),t(),$("#scrollTop").click(function(){$("html,body").animate({scrollTop:0},600)}),$("html,body").bind("DOMMouseScroll touchmove wheel",function(t){e=!1,$("html,body").stop()});var o=function(){$(".progressive").each(function(){var e=$(this),t=new Image,o=$(this).find(".lowres"),a=$("<img src='' class='overlay' alt='' />");t.onload=function(){a.attr("src",t.src).attr("alt",o.attr("alt")).appendTo(e).css("opacity","1"),o.css("opacity","0")},t.src=o.data("image")})};$(".progressive").length&&o();var a=$(".animate article"),n=$(window),s=function(){var e=n.height(),t=n.scrollTop(),o=t+e+200;$.each(a,function(){var e=$(this),a=e.outerHeight(),n=e.offset().top,s=n+a;s>=t&&o>=n?(e.addClass("in-view"),e.removeClass("slide")):e.removeClass("in-view"),0===t&&e.addClass("slide")})};s(),n.on("scroll resize",s),$("a[title='contact']").click(function(e){e.preventDefault();var t=this.hash,o=$(t);$(".mobile-nav").trigger("click"),$("html, body").stop().animate({scrollTop:o.offset().top},900,"swing",function(){history.pushState(null,null,t)})}),$("input, textarea").change(function(){var e=$(this);e.val().trim().length?e.addClass("focus"):e.removeClass("focus")}),$("#form").validate({errorElement:"div",errorPlacement:function(e,t){e.appendTo(t.parent("div"))},showErrors:function(e,t){this.defaultShowErrors(),$.each(e,function(e,t){var o=$("input[name='"+e+"']").nextAll("div");o.text()!==t&&o.html(t)})},submitHandler:function(e,t){i(e)}});var i=function(e){var t=$("#form-messages"),o=$(e).serialize();$.ajax({type:"POST",url:$(e).attr("action"),data:o}).done(function(o){$(t).removeClass("error").addClass("success"),$("input, textarea").removeClass("focus"),$(t).hide().text(o).fadeIn(),$("#name, #email, #message").val(""),$(e).validate().resetForm(),setTimeout(function(){$(t).hide("slow")},1e4)}).fail(function(e){$(t).removeClass("success").addClass("error"),""!==e.responseText?$(t).hide().text(e.responseText).fadeIn():$(t).hide().text("Oops! Something went wrong and we couldn't send your message. Please try again.").fadeIn()})},l=function(){var e=document.documentElement,t=e.style.flex,o=e.style.webkitFlex,a="http://dev.hannahsteindesigns.com/update";if(""===t||""===o?e.className="flex":e.className="no-flex",""===t||""===o)e.className="flex";else{if(window.location.href==a)return;window.location.replace(a)}};l()});
